<h1>注文内容の確認・編集</h1>

<div>
	<h2>お届け先住所</h2>

	<!--clientの自宅住所選択用のラジオボタンを設置-->
	<%= form_for Order.new, url: clients_order_purchase_path do |f| %>
	<label>
		<%= f.radio_button :client_id,@client.id, id: "one" %>
			<% zyusyo1 = @client.last_name + @client.first_name + @client.post_code + @client.address %>
				<%= zyusyo1 %>
	</label>

		<!--addressesテーブルのレコードの数だけそれぞれのラジオボタンを設置-->
		<% @client.addresses.each do |t| %>
			<div>
				<label>
				<%= f.radio_button :shipping_address, t.id, class: "two" %>
				<% zyusyo = t.last_name + t.first_name + t.sub_post_code + t.sub_address %>
					<%= zyusyo %>
				</label>
			</div>
		<% end %>

		<!--支払い方法選択用のラジオボタンを設置-->
		<label>
			<%= f.radio_button :payment, 0 %>クレジット
		</label>
		<label>
			<%= f.radio_button :payment, 1 %>銀行振込
		</label>
		<label>
			<%= f.radio_button :payment, 2 %>代引き
		</label>
</div>

<div>
	<p>注文内容</p>
	<p>商品の小計:<%= "￥" + @total_price.to_s %></p>
	<p>配送料・手数料:<span>￥500</span></p>
	<p>注文合計:<%= "￥" + (@total_price + 500).to_s %></p>
	<p>ご請求額:<%= "￥" + (@total_price + 500).to_s %></p>
</div>
	<%= f.submit "注文を確定する" %>
	<% end %>





<script>
//idがoneの要素をradio1に代入
var radio1 = document.getElementById("one");

//radio1がクリックされたときにclass名twoのcheckedをfalseにしている
radio1.addEventListener("click", () => {
	$('.two').prop('checked',false);
});

//class名twoがクリックされたとき、もしradio1がチェックされていたらチェックを外す
$('.two').on('click', function(){
  if (radio1.checked === true) {
  radio1.checked = false;
	}
});

</script>